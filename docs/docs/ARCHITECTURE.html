<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Architecture Documentation | SpendWise</title>
    <meta name="description" content="Technical architecture guide for SpendWise application">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --bg-primary: #0a0a0a;
            --bg-secondary: #111111;
            --bg-card: #1a1a1a;
            --text-primary: #ffffff;
            --text-secondary: #a0a0a0;
            --accent: #3b82f6;
            --success: #22c55e;
            --warning: #f59e0b;
            --border: #2a2a2a;
        }

        body {
            font-family: 'Inter', sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            line-height: 1.7;
        }

        a {
            color: var(--accent);
            text-decoration: none;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 0 24px;
        }

        .navbar {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: rgba(10, 10, 10, 0.95);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid var(--border);
            z-index: 1000;
            padding: 16px 0;
        }

        .navbar .container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1200px;
        }

        .nav-brand {
            font-size: 20px;
            font-weight: 700;
            color: var(--text-primary);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .nav-links {
            display: flex;
            gap: 32px;
            list-style: none;
        }

        .nav-links a {
            color: var(--text-secondary);
            font-size: 14px;
            font-weight: 500;
        }

        .nav-links a:hover,
        .nav-links a.active {
            color: var(--text-primary);
        }

        .content {
            padding: 120px 0 60px;
        }

        h1 {
            font-size: 48px;
            margin-bottom: 16px;
            font-weight: 800;
        }

        h2 {
            font-size: 32px;
            margin: 56px 0 24px;
            padding-top: 32px;
            border-top: 1px solid var(--border);
        }

        h3 {
            font-size: 22px;
            margin: 40px 0 16px;
            color: var(--accent);
        }

        h4 {
            font-size: 16px;
            margin: 24px 0 12px;
            color: var(--text-secondary);
        }

        p {
            color: var(--text-secondary);
            margin-bottom: 16px;
            font-size: 15px;
        }

        .diagram {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 16px;
            padding: 28px;
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 13px;
            overflow-x: auto;
            line-height: 1.5;
            margin: 24px 0;
        }

        .layer-card {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 16px;
            padding: 24px;
            margin-bottom: 20px;
            border-left: 4px solid var(--accent);
        }

        .layer-card h4 {
            font-size: 18px;
            margin-bottom: 12px;
            color: var(--text-primary);
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .layer-card p {
            margin-bottom: 12px;
        }

        .tech-badge {
            display: inline-block;
            background: var(--accent)15;
            color: var(--accent);
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            margin-right: 8px;
            margin-bottom: 8px;
        }

        .code-block {
            background: #000;
            border-radius: 12px;
            padding: 20px;
            font-family: monospace;
            font-size: 13px;
            overflow-x: auto;
            margin: 20px 0;
            border: 1px solid var(--border);
        }

        .code-block .comment {
            color: #6a737d;
        }

        .code-block .key {
            color: #79c0ff;
        }

        .code-block .string {
            color: #a5d6ff;
        }

        .code-block .number {
            color: #56d364;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: var(--bg-card);
            border-radius: 12px;
            overflow: hidden;
        }

        th,
        td {
            text-align: left;
            padding: 14px 16px;
            border-bottom: 1px solid var(--border);
        }

        th {
            background: var(--bg-primary);
            color: var(--text-secondary);
            font-weight: 600;
            font-size: 13px;
        }

        .flow-step {
            display: flex;
            align-items: center;
            gap: 16px;
            padding: 16px 0;
            border-bottom: 1px solid var(--border);
        }

        .flow-step:last-child {
            border-bottom: none;
        }

        .flow-icon {
            width: 40px;
            height: 40px;
            background: var(--accent)20;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
        }

        .flow-arrow {
            color: var(--accent);
            font-size: 20px;
        }

        .toc {
            position: fixed;
            right: 24px;
            top: 120px;
            width: 220px;
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 20px;
        }

        .toc h4 {
            font-size: 12px;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: var(--text-secondary);
            margin-bottom: 16px;
        }

        .toc ul {
            list-style: none;
        }

        .toc li {
            margin-bottom: 8px;
        }

        .toc a {
            color: var(--text-secondary);
            font-size: 13px;
        }

        .footer {
            background: var(--bg-secondary);
            padding: 32px 0;
            border-top: 1px solid var(--border);
            text-align: center;
            margin-top: 60px;
        }

        @media (max-width: 1400px) {
            .toc {
                display: none;
            }
        }

        @media (max-width: 768px) {
            .nav-links {
                display: none;
            }

            h1 {
                font-size: 32px;
            }
        }
    </style>
</head>

<body>
    <nav class="navbar">
        <div class="container">
            <a href="../" class="nav-brand"><img src="../logo.png" alt="SpendWise" style="height: 28px;"> SpendWise</a>
            <ul class="nav-links">
                <li><a href="../">Home</a></li>
                <li><a href="API.html">API</a></li>
                <li><a href="ARCHITECTURE.html" class="active">Architecture</a></li>
                <li><a href="CODEBASE.html">Codebase</a></li>
                <li><a href="SERVICES.html">Services</a></li>
            </ul>
        </div>
    </nav>

    <div class="toc">
        <h4>On This Page</h4>
        <ul>
            <li><a href="#overview">System Overview</a></li>
            <li><a href="#layers">Layer Architecture</a></li>
            <li><a href="#data-flow">Data Flow</a></li>
            <li><a href="#state">State Management</a></li>
            <li><a href="#ai">AI Integration</a></li>
            <li><a href="#notifications">Notifications</a></li>
            <li><a href="#security">Security</a></li>
        </ul>
    </div>

    <div class="content">
        <div class="container">
            <h1>ğŸ—ï¸ Architecture Documentation</h1>
            <p style="font-size: 18px; max-width: 700px;">Technical architecture guide for SpendWise application.</p>

            <!-- System Overview -->
            <h2 id="overview">System Architecture Overview</h2>
            <p>SpendWise follows a modern mobile-first architecture with React Native (Expo) for the frontend and
                Firebase + Groq AI for backend services.</p>

            <div class="diagram">
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚ SPENDWISE ARCHITECTURE â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚ ğŸ“± PRESENTATION LAYER â”‚
                â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
                â”‚ â”‚ Dashboard â”‚ â”‚Transactionsâ”‚ â”‚ AI Insightsâ”‚ â”‚ Reports â”‚ â”‚
                â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
                â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
                â”‚ â”‚ Budget â”‚ â”‚ Goals â”‚ â”‚ Settings â”‚ â”‚
                â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
                â”‚ â”‚
                â”‚ Expo Router (File-based) â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚ ğŸ§  STATE MANAGEMENT LAYER â”‚
                â”‚ â”‚
                â”‚ AppContext (React Context API) â”‚
                â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
                â”‚ â”‚ Transactions â”‚ Budgets â”‚ Goals â”‚ Settings â”‚ â”‚
                â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
                â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
                â”‚ â”‚ User â”‚ Categories â”‚ Currency â”‚ â”‚
                â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚ âš™ï¸ SERVICE LAYER â”‚
                â”‚ â”‚
                â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
                â”‚ â”‚ lib/ â”‚ â”‚ lib/ â”‚ â”‚ lib/ â”‚ â”‚ lib/ â”‚ â”‚
                â”‚ â”‚ auth.ts â”‚ â”‚ database.ts â”‚ â”‚ ai.ts â”‚ â”‚notifications â”‚ â”‚
                â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚ â˜ï¸ EXTERNAL SERVICES â”‚
                â”‚ â”‚
                â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
                â”‚ â”‚ ğŸ” Firebase Auth â”‚ â”‚ ğŸ—„ï¸ Firebase Realtime DB â”‚ â”‚
                â”‚ â”‚ Email/Password â”‚ â”‚ Real-time sync â”‚ â”‚
                â”‚ â”‚ Email verification â”‚ â”‚ Offline persistence â”‚ â”‚
                â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
                â”‚ â”‚
                â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
                â”‚ â”‚ ğŸ¤– Groq API â”‚ â”‚ ğŸ”” Expo Notifications â”‚ â”‚
                â”‚ â”‚ LLaMA 3.3 70B â”‚ â”‚ Push notifications â”‚ â”‚
                â”‚ â”‚ Financial insights â”‚ â”‚ Scheduled reminders â”‚ â”‚
                â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            </div>

            <!-- Layer Architecture -->
            <h2 id="layers">Layer Architecture</h2>
            <p>Detailed breakdown of each application layer.</p>

            <div class="layer-card" style="border-left-color: #3b82f6;">
                <h4><span>ğŸ“±</span> 1. Presentation Layer</h4>
                <p>React Native components with Expo Router for file-based navigation. Each screen is a self-contained
                    module handling its own UI state and user interactions.</p>
                <span class="tech-badge">React Native</span>
                <span class="tech-badge">Expo</span>
                <span class="tech-badge">TypeScript</span>
                <span class="tech-badge">react-native-chart-kit</span>

                <div class="code-block">
                    app/
                    â”œâ”€â”€ (auth)/
                    â”‚ â”œâ”€â”€ _layout.tsx <span class="comment">// Auth stack layout</span>
                    â”‚ â””â”€â”€ login.tsx <span class="comment">// Login/Register screen</span>
                    â”‚
                    â”œâ”€â”€ (tabs)/
                    â”‚ â”œâ”€â”€ _layout.tsx <span class="comment">// Tab navigator (7 tabs)</span>
                    â”‚ â”œâ”€â”€ index.tsx <span class="comment">// Dashboard</span>
                    â”‚ â”œâ”€â”€ transactions.tsx <span class="comment">// Transaction list + CRUD</span>
                    â”‚ â”œâ”€â”€ insights.tsx <span class="comment">// AI financial insights</span>
                    â”‚ â”œâ”€â”€ reports.tsx <span class="comment">// Charts & analytics</span>
                    â”‚ â”œâ”€â”€ budget.tsx <span class="comment">// Budget management</span>
                    â”‚ â”œâ”€â”€ goals.tsx <span class="comment">// Savings goals</span>
                    â”‚ â””â”€â”€ settings.tsx <span class="comment">// App settings</span>
                    â”‚
                    â””â”€â”€ _layout.tsx <span class="comment">// Root layout with providers</span>
                </div>
            </div>

            <div class="layer-card" style="border-left-color: #22c55e;">
                <h4><span>ğŸ§ </span> 2. State Management Layer</h4>
                <p>Global state managed via React Context API. The AppContext wraps the entire application and provides
                    centralized state access and update functions.</p>
                <span class="tech-badge">React Context</span>
                <span class="tech-badge">Custom Hooks</span>
                <span class="tech-badge">useReducer</span>

                <div class="code-block">
                    <span class="comment">// context/AppContext.tsx</span>
                    interface AppContextType {
                    <span class="comment">// State</span>
                    user: User | null;
                    transactions: Transaction[];
                    budgets: Budget[];
                    goals: Goal[];
                    categories: Category[];
                    currency: Currency;
                    darkMode: boolean;

                    <span class="comment">// Actions</span>
                    addTransaction: (t: Transaction) => Promise<void>;
                        updateTransaction: (t: Transaction) => Promise<void>;
                            deleteTransaction: (id: string) => Promise<void>;
                                addBudget: (b: Budget) => Promise<void>;
                                    addGoal: (g: Goal) => Promise<void>;
                                        updateGoal: (g: Goal) => Promise<void>;
                                            setCurrency: (c: Currency) => Promise<void>;
                                                setDarkMode: (d: boolean) => Promise<void>;
                                                    logout: () => Promise<void>;
                                                        }
                </div>
            </div>

            <div class="layer-card" style="border-left-color: #f59e0b;">
                <h4><span>âš™ï¸</span> 3. Service Layer</h4>
                <p>Abstraction layer for external service communication. Each service module handles a specific domain
                    with proper error handling and type safety.</p>
                <span class="tech-badge">lib/auth.ts</span>
                <span class="tech-badge">lib/database.ts</span>
                <span class="tech-badge">lib/ai.ts</span>
                <span class="tech-badge">lib/notifications.ts</span>

                <div class="code-block">
                    <span class="comment">// Service responsibilities</span>
                    auth.ts â†’ signUp, signIn, logout, resetPassword
                    database.ts â†’ CRUD for transactions, budgets, goals, settings
                    â†’ Real-time subscriptions with onValue()
                    ai.ts â†’ Groq API calls for financial insights
                    â†’ Response parsing and error handling
                    notifications.ts â†’ Permission requests, channel setup
                    â†’ Immediate and scheduled notifications
                </div>
            </div>

            <div class="layer-card" style="border-left-color: #8b5cf6;">
                <h4><span>â˜ï¸</span> 4. Data Layer - Firebase Schema</h4>
                <p>Firebase Realtime Database stores all user data with real-time synchronization across devices.</p>
                <span class="tech-badge">Firebase Auth</span>
                <span class="tech-badge">Realtime Database</span>
                <span class="tech-badge">Groq API</span>

                <div class="code-block">
                    Firebase Realtime Database
                    â”‚
                    â”œâ”€â”€ users/{userId}/
                    â”‚ â”‚
                    â”‚ â”œâ”€â”€ transactions/{transactionId}
                    â”‚ â”‚ â”œâ”€â”€ id: string
                    â”‚ â”‚ â”œâ”€â”€ type: "income" | "expense"
                    â”‚ â”‚ â”œâ”€â”€ amount: number
                    â”‚ â”‚ â”œâ”€â”€ category: string
                    â”‚ â”‚ â”œâ”€â”€ date: timestamp
                    â”‚ â”‚ â”œâ”€â”€ note: string
                    â”‚ â”‚ â””â”€â”€ paymentMethod: string
                    â”‚ â”‚
                    â”‚ â”œâ”€â”€ budgets/{budgetId}
                    â”‚ â”‚ â”œâ”€â”€ id: string
                    â”‚ â”‚ â”œâ”€â”€ category: string
                    â”‚ â”‚ â”œâ”€â”€ limit: number
                    â”‚ â”‚ â””â”€â”€ period: "daily" | "weekly" | "monthly" | "yearly"
                    â”‚ â”‚
                    â”‚ â”œâ”€â”€ goals/{goalId}
                    â”‚ â”‚ â”œâ”€â”€ id: string
                    â”‚ â”‚ â”œâ”€â”€ name: string
                    â”‚ â”‚ â”œâ”€â”€ targetAmount: number
                    â”‚ â”‚ â”œâ”€â”€ currentAmount: number
                    â”‚ â”‚ â”œâ”€â”€ deadline: timestamp
                    â”‚ â”‚ â””â”€â”€ priority: "low" | "medium" | "high"
                    â”‚ â”‚
                    â”‚ â””â”€â”€ settings/
                    â”‚ â”œâ”€â”€ currency: { code, symbol, name }
                    â”‚ â””â”€â”€ darkMode: boolean
                </div>
            </div>

            <!-- Data Flow -->
            <h2 id="data-flow">Data Flow</h2>
            <p>How data moves through the application layers.</p>

            <div class="flow-step">
                <div class="flow-icon">ğŸ‘¤</div>
                <div>
                    <strong>User Action</strong>
                    <p style="margin: 4px 0 0; font-size: 13px;">User taps "Add Transaction" button</p>
                </div>
            </div>
            <div class="flow-step">
                <div class="flow-icon">ğŸ“±</div>
                <div>
                    <strong>Presentation Layer</strong>
                    <p style="margin: 4px 0 0; font-size: 13px;">Screen component calls addTransaction from AppContext
                    </p>
                </div>
            </div>
            <div class="flow-step">
                <div class="flow-icon">ğŸ§ </div>
                <div>
                    <strong>State Management</strong>
                    <p style="margin: 4px 0 0; font-size: 13px;">AppContext dispatches to service layer and updates
                        local state</p>
                </div>
            </div>
            <div class="flow-step">
                <div class="flow-icon">âš™ï¸</div>
                <div>
                    <strong>Service Layer</strong>
                    <p style="margin: 4px 0 0; font-size: 13px;">database.ts writes to Firebase, checks budgets for
                        alerts</p>
                </div>
            </div>
            <div class="flow-step">
                <div class="flow-icon">â˜ï¸</div>
                <div>
                    <strong>Firebase</strong>
                    <p style="margin: 4px 0 0; font-size: 13px;">Data persisted to Realtime Database, synced to other
                        devices</p>
                </div>
            </div>
            <div class="flow-step">
                <div class="flow-icon">ğŸ”„</div>
                <div>
                    <strong>Real-time Update</strong>
                    <p style="margin: 4px 0 0; font-size: 13px;">onValue listener triggers, state updates, UI re-renders
                    </p>
                </div>
            </div>

            <!-- AI Integration -->
            <h2 id="ai">AI Integration Architecture</h2>
            <p>How Groq AI provides financial insights.</p>

            <div class="diagram">
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚ AI INSIGHTS FLOW â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚ Transactions â”‚ â”‚ Budgets â”‚ â”‚ Goals â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚ â”‚ â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚ Prepare Data â”‚
                â”‚ - Filter 30d â”‚
                â”‚ - Calculate â”‚
                â”‚ summaries â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚ Build Prompt â”‚
                â”‚ - System role â”‚
                â”‚ - User data â”‚
                â”‚ - JSON format â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚ Groq API â”‚
                â”‚ LLaMA 3.3 70B â”‚
                â”‚ POST /chat/ â”‚
                â”‚ completions â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚ Parse Response â”‚
                â”‚ - Extract JSON â”‚
                â”‚ - Validate â”‚
                â”‚ - fallbacks â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚ Health Score â”‚ â”‚ Insights â”‚ â”‚Recommendations â”‚
                â”‚ 0-100 â”‚ â”‚ (4 types) â”‚ â”‚ (actions) â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            </div>

            <!-- Notification Flow -->
            <h2 id="notifications">Push Notification Architecture</h2>

            <h3>Notification Triggers</h3>
            <table>
                <tr>
                    <th>Trigger</th>
                    <th>Condition</th>
                    <th>Notification</th>
                </tr>
                <tr>
                    <td>Budget 80%</td>
                    <td>Category spending â‰¥ 80% of limit</td>
                    <td>âš ï¸ Warning alert</td>
                </tr>
                <tr>
                    <td>Budget 100%</td>
                    <td>Category spending â‰¥ 100% of limit</td>
                    <td>ğŸš¨ Over budget alert</td>
                </tr>
                <tr>
                    <td>Daily Reminder</td>
                    <td>8:00 PM daily (if enabled)</td>
                    <td>ğŸ“ Log expenses reminder</td>
                </tr>
                <tr>
                    <td>Weekly Summary</td>
                    <td>Monday 9:00 AM (if enabled)</td>
                    <td>ğŸ“Š Weekly insights ready</td>
                </tr>
            </table>

            <!-- Security -->
            <h2 id="security">Security Architecture</h2>

            <h3>Authentication Flow</h3>
            <div class="diagram">
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚ User â”‚â”€â”€â”€â”€â–¶â”‚ Login/ â”‚â”€â”€â”€â”€â–¶â”‚ Firebase â”‚â”€â”€â”€â”€â–¶â”‚ Verified â”‚
                â”‚ â”‚ â”‚ Register â”‚ â”‚ Auth â”‚ â”‚ User â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚ â”‚
                â”‚ â–¼
                â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚ â”‚ Email â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚ Verification â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            </div>

            <h3>Data Security</h3>
            <table>
                <tr>
                    <th>Layer</th>
                    <th>Security Measure</th>
                </tr>
                <tr>
                    <td>API Keys</td>
                    <td>Environment variables (EXPO_PUBLIC_GROQ_API_KEY)</td>
                </tr>
                <tr>
                    <td>Firebase</td>
                    <td>User-scoped data (users/{userId}/...)</td>
                </tr>
                <tr>
                    <td>Auth</td>
                    <td>Email verification required before full access</td>
                </tr>
                <tr>
                    <td>Transport</td>
                    <td>HTTPS for all API calls</td>
                </tr>
            </table>

            <!-- Version Info -->
            <h2>Version Information</h2>
            <table>
                <tr>
                    <th>Component</th>
                    <th>Version</th>
                </tr>
                <tr>
                    <td>SpendWise App</td>
                    <td>v2.1.0</td>
                </tr>
                <tr>
                    <td>React Native</td>
                    <td>0.76.5</td>
                </tr>
                <tr>
                    <td>Expo SDK</td>
                    <td>52</td>
                </tr>
                <tr>
                    <td>Firebase</td>
                    <td>11.0.2</td>
                </tr>
                <tr>
                    <td>Groq Model</td>
                    <td>llama-3.3-70b-versatile</td>
                </tr>
            </table>

        </div>
    </div>

    <footer class="footer">
        <p>Â© 2025 SpendWise. Developed by <a href="https://github.com/lekhanpro">Lekhan</a> â€¢ Full Stack Developer</p>
    </footer>
</body>

</html>