<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Codebase Guide | SpendWise</title>
    <meta name="description" content="Navigate the SpendWise codebase with detailed explanations">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --bg-primary: #0a0a0a;
            --bg-secondary: #111111;
            --bg-card: #1a1a1a;
            --text-primary: #ffffff;
            --text-secondary: #a0a0a0;
            --accent: #3b82f6;
            --success: #22c55e;
            --warning: #f59e0b;
            --border: #2a2a2a;
        }

        body {
            font-family: 'Inter', sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            line-height: 1.7;
        }

        a {
            color: var(--accent);
            text-decoration: none;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 0 24px;
        }

        .navbar {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: rgba(10, 10, 10, 0.95);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid var(--border);
            z-index: 1000;
            padding: 16px 0;
        }

        .navbar .container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1200px;
        }

        .nav-brand {
            font-size: 20px;
            font-weight: 700;
            color: var(--text-primary);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .nav-links {
            display: flex;
            gap: 32px;
            list-style: none;
        }

        .nav-links a {
            color: var(--text-secondary);
            font-size: 14px;
            font-weight: 500;
        }

        .nav-links a:hover,
        .nav-links a.active {
            color: var(--text-primary);
        }

        .content {
            padding: 120px 0 60px;
        }

        h1 {
            font-size: 48px;
            margin-bottom: 16px;
            font-weight: 800;
        }

        h2 {
            font-size: 32px;
            margin: 56px 0 24px;
            padding-top: 32px;
            border-top: 1px solid var(--border);
        }

        h3 {
            font-size: 22px;
            margin: 40px 0 16px;
            color: var(--accent);
        }

        p {
            color: var(--text-secondary);
            margin-bottom: 16px;
            font-size: 15px;
        }

        .tree {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 16px;
            padding: 28px;
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 13px;
            overflow-x: auto;
            line-height: 1.6;
            margin: 24px 0;
        }

        .tree .folder {
            color: var(--accent);
        }

        .tree .file {
            color: var(--text-secondary);
        }

        .tree .comment {
            color: #6a737d;
        }

        .file-card {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 16px;
            padding: 24px;
            margin-bottom: 20px;
        }

        .file-card h4 {
            font-family: monospace;
            font-size: 16px;
            color: var(--accent);
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .file-card h4 span {
            background: var(--accent)20;
            padding: 4px 10px;
            border-radius: 6px;
            font-size: 11px;
        }

        .file-card p {
            font-size: 14px;
            margin-bottom: 8px;
        }

        .file-card ul {
            list-style: none;
            margin-top: 12px;
        }

        .file-card li {
            padding: 6px 0;
            border-bottom: 1px solid var(--border);
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 13px;
        }

        .file-card li:last-child {
            border-bottom: none;
        }

        .file-card li i {
            color: var(--success);
            font-size: 12px;
        }

        .code-block {
            background: #000;
            border-radius: 12px;
            padding: 20px;
            font-family: monospace;
            font-size: 13px;
            overflow-x: auto;
            margin: 16px 0;
            border: 1px solid var(--border);
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: var(--bg-card);
            border-radius: 12px;
            overflow: hidden;
        }

        th,
        td {
            text-align: left;
            padding: 14px 16px;
            border-bottom: 1px solid var(--border);
        }

        th {
            background: var(--bg-primary);
            color: var(--text-secondary);
            font-weight: 600;
            font-size: 13px;
        }

        .footer {
            background: var(--bg-secondary);
            padding: 32px 0;
            border-top: 1px solid var(--border);
            text-align: center;
            margin-top: 60px;
        }

        @media (max-width: 768px) {
            .nav-links {
                display: none;
            }

            h1 {
                font-size: 32px;
            }
        }
    </style>
</head>

<body>
    <nav class="navbar">
        <div class="container">
            <a href="../" class="nav-brand"><img src="../logo.png" alt="SpendWise" style="height: 28px;"> SpendWise</a>
            <ul class="nav-links">
                <li><a href="../">Home</a></li>
                <li><a href="API.html">API</a></li>
                <li><a href="ARCHITECTURE.html">Architecture</a></li>
                <li><a href="CODEBASE.html" class="active">Codebase</a></li>
                <li><a href="SERVICES.html">Services</a></li>
            </ul>
        </div>
    </nav>

    <div class="content">
        <div class="container">
            <h1>ğŸ“ Codebase Guide</h1>
            <p style="font-size: 18px; max-width: 700px;">Line-by-line code analysis, directory structure, and component
                breakdown.</p>

            <!-- Directory Structure -->
            <h2>Complete Directory Structure</h2>
            <div class="tree">
                <span class="folder">spendwise-native/</span>
                â”‚
                â”œâ”€â”€ <span class="folder">app/</span> <span class="comment"># Expo Router screens (file-based
                    routing)</span>
                â”‚ â”œâ”€â”€ <span class="folder">(auth)/</span> <span class="comment"># Auth route group</span>
                â”‚ â”‚ â”œâ”€â”€ <span class="file">_layout.tsx</span> <span class="comment"># Auth stack navigator</span>
                â”‚ â”‚ â””â”€â”€ <span class="file">login.tsx</span> <span class="comment"># Login/Register screen (240
                    lines)</span>
                â”‚ â”‚
                â”‚ â”œâ”€â”€ <span class="folder">(tabs)/</span> <span class="comment"># Main tab route group</span>
                â”‚ â”‚ â”œâ”€â”€ <span class="file">_layout.tsx</span> <span class="comment"># Tab navigator with 7 tabs</span>
                â”‚ â”‚ â”œâ”€â”€ <span class="file">index.tsx</span> <span class="comment"># Dashboard (256 lines)</span>
                â”‚ â”‚ â”œâ”€â”€ <span class="file">transactions.tsx</span> <span class="comment"># Transaction CRUD (281
                    lines)</span>
                â”‚ â”‚ â”œâ”€â”€ <span class="file">insights.tsx</span> <span class="comment"># AI financial insights (405
                    lines)</span>
                â”‚ â”‚ â”œâ”€â”€ <span class="file">reports.tsx</span> <span class="comment"># Charts & analytics (417
                    lines)</span>
                â”‚ â”‚ â”œâ”€â”€ <span class="file">budget.tsx</span> <span class="comment"># Budget management (278
                    lines)</span>
                â”‚ â”‚ â”œâ”€â”€ <span class="file">goals.tsx</span> <span class="comment"># Savings goals (297 lines)</span>
                â”‚ â”‚ â””â”€â”€ <span class="file">settings.tsx</span> <span class="comment"># App settings (239 lines)</span>
                â”‚ â”‚
                â”‚ â””â”€â”€ <span class="file">_layout.tsx</span> <span class="comment"># Root layout with AppProvider</span>
                â”‚
                â”œâ”€â”€ <span class="folder">lib/</span> <span class="comment"># Service modules</span>
                â”‚ â”œâ”€â”€ <span class="file">firebase.ts</span> <span class="comment"># Firebase config &
                    initialization</span>
                â”‚ â”œâ”€â”€ <span class="file">auth.ts</span> <span class="comment"># Authentication helpers</span>
                â”‚ â”œâ”€â”€ <span class="file">database.ts</span> <span class="comment"># Realtime Database CRUD</span>
                â”‚ â”œâ”€â”€ <span class="file">ai.ts</span> <span class="comment"># Groq AI integration (256 lines)</span>
                â”‚ â””â”€â”€ <span class="file">notifications.ts</span> <span class="comment"># Expo Notifications (199
                    lines)</span>
                â”‚
                â”œâ”€â”€ <span class="folder">context/</span>
                â”‚ â””â”€â”€ <span class="file">AppContext.tsx</span> <span class="comment"># Global state management (278
                    lines)</span>
                â”‚
                â”œâ”€â”€ <span class="folder">types/</span>
                â”‚ â””â”€â”€ <span class="file">index.ts</span> <span class="comment"># TypeScript interfaces</span>
                â”‚
                â”œâ”€â”€ <span class="folder">constants/</span>
                â”‚ â””â”€â”€ <span class="file">app.ts</span> <span class="comment"># Categories, currencies, colors</span>
                â”‚
                â”œâ”€â”€ <span class="folder">assets/</span>
                â”‚ â””â”€â”€ <span class="folder">images/</span> <span class="comment"># App icons & splash</span>
                â”‚ â”œâ”€â”€ <span class="file">icon.png</span>
                â”‚ â”œâ”€â”€ <span class="file">adaptive-icon.png</span>
                â”‚ â””â”€â”€ <span class="file">splash-icon.png</span>
                â”‚
                â”œâ”€â”€ <span class="folder">docs/</span> <span class="comment"># GitHub Pages site</span>
                â”‚ â”œâ”€â”€ <span class="file">index.html</span> <span class="comment"># Landing page</span>
                â”‚ â”œâ”€â”€ <span class="folder">docs/</span> <span class="comment"># Documentation pages</span>
                â”‚ â””â”€â”€ <span class="folder">screenshots/</span> <span class="comment"># App screenshots</span>
                â”‚
                â”œâ”€â”€ <span class="folder">.github/workflows/</span>
                â”‚ â”œâ”€â”€ <span class="file">build-android.yml</span> <span class="comment"># EAS Build workflow</span>
                â”‚ â””â”€â”€ <span class="file">pages.yml</span> <span class="comment"># GitHub Pages deploy</span>
                â”‚
                â”œâ”€â”€ <span class="file">app.json</span> <span class="comment"># Expo configuration</span>
                â”œâ”€â”€ <span class="file">eas.json</span> <span class="comment"># EAS Build profiles</span>
                â”œâ”€â”€ <span class="file">package.json</span> <span class="comment"># Dependencies</span>
                â”œâ”€â”€ <span class="file">tsconfig.json</span> <span class="comment"># TypeScript config</span>
                â””â”€â”€ <span class="file">.env</span> <span class="comment"># Environment variables (gitignored)</span>
            </div>

            <!-- Screen Components -->
            <h2>Screen Components</h2>
            <p>Detailed breakdown of each screen component.</p>

            <div class="file-card">
                <h4>app/(tabs)/index.tsx <span>Dashboard</span></h4>
                <p>Main dashboard showing financial overview with balance cards and weekly spending chart.</p>
                <ul>
                    <li>âœ“ Balance summary (income, expenses, savings)</li>
                    <li>âœ“ Weekly spending line chart (react-native-chart-kit)</li>
                    <li>âœ“ Recent transactions list (last 5)</li>
                    <li>âœ“ Floating Action Button for quick add</li>
                </ul>
            </div>

            <div class="file-card">
                <h4>app/(tabs)/transactions.tsx <span>Transactions</span></h4>
                <p>Full transaction list with filtering, add/edit modal, and swipe-to-delete.</p>
                <ul>
                    <li>âœ“ Filter by type (All/Income/Expense)</li>
                    <li>âœ“ Transaction cards with category icons</li>
                    <li>âœ“ Add/Edit modal with form validation</li>
                    <li>âœ“ Delete confirmation</li>
                </ul>
            </div>

            <div class="file-card">
                <h4>app/(tabs)/insights.tsx <span>AI Insights</span></h4>
                <p>AI-powered financial analysis using Groq's LLaMA 3.3 70B model.</p>
                <ul>
                    <li>âœ“ Financial Health Score (0-100 with gauge)</li>
                    <li>âœ“ AI-generated insights cards (success/warning/tip/info)</li>
                    <li>âœ“ Personalized recommendations list</li>
                    <li>âœ“ Pull-to-refresh for new analysis</li>
                    <li>âœ“ Loading states and error handling</li>
                </ul>
            </div>

            <div class="file-card">
                <h4>app/(tabs)/reports.tsx <span>Reports</span></h4>
                <p>Visual analytics with pie charts and bar graphs.</p>
                <ul>
                    <li>âœ“ Time range selector (Week/Month/Year)</li>
                    <li>âœ“ Summary cards (transactions, income, expenses, savings)</li>
                    <li>âœ“ Pie chart for spending by category</li>
                    <li>âœ“ Bar chart for daily spending trends</li>
                </ul>
            </div>

            <div class="file-card">
                <h4>app/(tabs)/budget.tsx <span>Budget</span></h4>
                <p>Budget management with progress tracking.</p>
                <ul>
                    <li>âœ“ Budget cards with progress bars</li>
                    <li>âœ“ Color-coded status (green/yellow/red)</li>
                    <li>âœ“ Add/Edit budget modal</li>
                    <li>âœ“ Period selection (daily/weekly/monthly/yearly)</li>
                </ul>
            </div>

            <div class="file-card">
                <h4>app/(tabs)/goals.tsx <span>Goals</span></h4>
                <p>Savings goals tracking with quick-add functionality.</p>
                <ul>
                    <li>âœ“ Goal cards with visual progress</li>
                    <li>âœ“ Quick "Add Funds" button</li>
                    <li>âœ“ Deadline tracking</li>
                    <li>âœ“ Priority badges (Low/Medium/High)</li>
                </ul>
            </div>

            <div class="file-card">
                <h4>app/(tabs)/settings.tsx <span>Settings</span></h4>
                <p>App configuration and user preferences.</p>
                <ul>
                    <li>âœ“ User info display</li>
                    <li>âœ“ App statistics (transaction count, etc.)</li>
                    <li>âœ“ Notification toggles (daily reminders, budget alerts, weekly insights)</li>
                    <li>âœ“ Test notification button</li>
                    <li>âœ“ Currency selection</li>
                    <li>âœ“ Dark mode toggle</li>
                    <li>âœ“ Logout functionality</li>
                </ul>
            </div>

            <!-- Service Modules -->
            <h2>Service Modules</h2>

            <div class="file-card">
                <h4>lib/ai.ts <span>Groq AI</span></h4>
                <p>Integration with Groq's LLaMA 3.3 70B model for financial insights.</p>
                <div class="code-block">
                    // Key exports
                    export async function getFinancialInsights(
                    transactions: Transaction[],
                    budgets: Budget[],
                    goals: Goal[],
                    currency: Currency
                    ): Promise&lt;AIInsightResponse&gt;

                    export function getQuickTip(): string
                </div>
            </div>

            <div class="file-card">
                <h4>lib/database.ts <span>Firebase Realtime DB</span></h4>
                <p>CRUD operations and real-time subscriptions.</p>
                <div class="code-block">
                    // Key exports
                    export async function saveTransaction(userId: string, transaction: Transaction)
                    export async function saveBudget(userId: string, budget: Budget)
                    export async function saveGoal(userId: string, goal: Goal)
                    export async function saveSettings(userId: string, settings: Settings)

                    export function subscribeToTransactions(userId: string, callback: Function)
                    export function subscribeToBudgets(userId: string, callback: Function)
                    export function subscribeToGoals(userId: string, callback: Function)
                    export function subscribeToSettings(userId: string, callback: Function)
                </div>
            </div>

            <div class="file-card">
                <h4>lib/notifications.ts <span>Expo Notifications</span></h4>
                <p>Push notification system for alerts and reminders.</p>
                <div class="code-block">
                    // Key exports
                    export async function requestNotificationPermission(): Promise&lt;boolean&gt;
                    export async function sendNotification(title: string, body: string, data?: object)
                    export async function sendBudgetAlert(category: string, percentage: number)
                    export async function scheduleDailyReminder(hour: number, minute: number)
                    export async function scheduleWeeklySummary()
                    export async function cancelAllNotifications()
                </div>
            </div>

            <!-- Type Definitions -->
            <h2>Type Definitions</h2>

            <div class="file-card">
                <h4>types/index.ts <span>TypeScript</span></h4>
                <p>All TypeScript interfaces used throughout the app.</p>
                <div class="code-block">
                    export interface Transaction {
                    id: string;
                    type: 'income' | 'expense';
                    amount: number;
                    category: string;
                    date: number;
                    note: string;
                    paymentMethod: string;
                    }

                    export interface Budget {
                    id: string;
                    category: string;
                    limit: number;
                    period: 'daily' | 'weekly' | 'monthly' | 'yearly';
                    }

                    export interface Goal {
                    id: string;
                    name: string;
                    targetAmount: number;
                    currentAmount: number;
                    deadline: number;
                    priority: 'low' | 'medium' | 'high';
                    }

                    export interface Currency {
                    code: string;
                    symbol: string;
                    name: string;
                    }

                    export interface AIInsight {
                    title: string;
                    message: string;
                    type: 'success' | 'warning' | 'tip' | 'info';
                    icon: string;
                    }

                    export interface AIInsightResponse {
                    healthScore: number;
                    insights: AIInsight[];
                    recommendations: string[];
                    summary: string;
                    }
                </div>
            </div>

            <!-- Dependencies -->
            <h2>Key Dependencies</h2>
            <table>
                <tr>
                    <th>Package</th>
                    <th>Version</th>
                    <th>Purpose</th>
                </tr>
                <tr>
                    <td>expo</td>
                    <td>~52.0.0</td>
                    <td>Core framework</td>
                </tr>
                <tr>
                    <td>react-native</td>
                    <td>0.76.5</td>
                    <td>UI framework</td>
                </tr>
                <tr>
                    <td>expo-router</td>
                    <td>~4.0.0</td>
                    <td>File-based routing</td>
                </tr>
                <tr>
                    <td>firebase</td>
                    <td>^11.0.2</td>
                    <td>Backend services</td>
                </tr>
                <tr>
                    <td>react-native-chart-kit</td>
                    <td>^6.12.0</td>
                    <td>Charts & graphs</td>
                </tr>
                <tr>
                    <td>expo-notifications</td>
                    <td>~0.29.0</td>
                    <td>Push notifications</td>
                </tr>
                <tr>
                    <td>@expo/vector-icons</td>
                    <td>^14.0.0</td>
                    <td>Icon library</td>
                </tr>
            </table>

        </div>
    </div>

    <footer class="footer">
        <p>Â© 2025 SpendWise. Developed by <a href="https://github.com/lekhanpro">Lekhan</a> â€¢ Full Stack Developer</p>
    </footer>
</body>

</html>